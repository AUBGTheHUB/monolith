#!/bin/bash

green='\033[0;32m'
yellow='\033[0;33m'
end='\033[0m'
red='\033[0;31m'

echo -e "${green}Adding linted files to commit${end}"

files=$(cat $PWD/files_for_commit.txt)



if [[ $files == "" ]]
then
    echo "${red}files_for_commit is empty${end}"
    echo -e "${yellow}No files to commit${end}"
    exit 0
fi

for file in $files
do
    echo -e "${yellow}Adding $file${end}"
    git add $file
done

echo "NO PRECOMMIT" > $PWD/files_for_commit.txt

git status

git commit --amend --no-edit

echo -e "${green}Done!${end}"

exit 0

